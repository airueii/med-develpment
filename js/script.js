(function(){const canvas=document.getElementById('particle-canvas');const ctx=canvas.getContext('2d');let width,height;let particles=[];const PARTICLE_COUNT=120;function initCanvas(){width=window.innerWidth;height=window.innerHeight;canvas.width=width;canvas.height=height;particles=[];for(let i=0;i<PARTICLE_COUNT;i++){particles.push({x:Math.random()*width,y:Math.random()*height,vx:(Math.random()-.5)*.3,vy:(Math.random()-.5)*.2,size:Math.random()*2+1,color:`rgba(${Math.floor(100+Math.random()*155)},${Math.floor(100+Math.random()*155)},255,${Math.random()*.5+.3})`})}}function drawParticles(){ctx.clearRect(0,0,width,height);particles.forEach(p=>{ctx.beginPath();ctx.arc(p.x,p.y,p.size,0,Math.PI*2);ctx.fillStyle=p.color;ctx.fill();p.x+=p.vx;p.y+=p.vy;if(p.x<0||p.x>width)p.vx*=-.9;if(p.y<0||p.y>height)p.vy*=-.9;p.x=Math.min(width,Math.max(0,p.x));p.y=Math.min(height,Math.max(0,p.y))});requestAnimationFrame(drawParticles)}window.addEventListener('resize',()=>{initCanvas()});initCanvas();drawParticles();let mouseX=null,mouseY=null;window.addEventListener('mousemove',e=>{mouseX=e.clientX;mouseY=e.clientY});function applyMouseInfluence(){if(mouseX!==null&&mouseY!==null){particles.forEach(p=>{const dx=mouseX-p.x;const dy=mouseY-p.y;const dist=Math.sqrt(dx*dx+dy*dy);if(dist<150){const force=(150-dist)/150*.2;p.vx+=dx*force*.01;p.vy+=dy*force*.01}})}requestAnimationFrame(applyMouseInfluence)}applyMouseInfluence()})();(function(){const monthYearEl=document.getElementById('month-year');const calendarGrid=document.getElementById('calendar-grid');const prevBtn=document.getElementById('prevMonth');const nextBtn=document.getElementById('nextMonth');const eventsContainer=document.getElementById('events-container');let currentDate=new Date();let currentMonth=currentDate.getMonth();let currentYear=currentDate.getFullYear();const months=['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre'];const dayHeaders=['Do','Lu','Ma','Mi','Ju','Vi','Sá'];const sampleEvents=[{date:'2026-02-10',title:'10:00 AM - Control Niño Sano'},{date:'2026-02-10',title:'12:30 PM - Revisión RN'},{date:'2026-02-18',title:'04:00 PM - Vacunas'},{date:'2026-02-25',title:'09:00 AM - Consulta desarrollo'}];function renderCalendar(month,year){monthYearEl.textContent=`${months[month]} ${year}`;calendarGrid.innerHTML='';dayHeaders.forEach(day=>{const el=document.createElement('div');el.className='day-header';el.textContent=day;calendarGrid.appendChild(el)});const firstDay=new Date(year,month,1).getDay();const daysInMonth=new Date(year,month+1,0).getDate();for(let i=0;i<firstDay;i++){const empty=document.createElement('div');empty.className='day';empty.textContent='';calendarGrid.appendChild(empty)}const today=new Date();for(let d=1;d<=daysInMonth;d++){const dayCell=document.createElement('div');dayCell.className='day';dayCell.textContent=d;const dateStr=`${year}-${String(month+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`;dayCell.dataset.date=dateStr;if(year===today.getFullYear()&&month===today.getMonth()&&d===today.getDate()){dayCell.classList.add('current-day')}if(sampleEvents.some(ev=>ev.date===dateStr)){dayCell.classList.add('has-event')}dayCell.addEventListener('click',function(){const selected=this.dataset.date;const eventsForDay=sampleEvents.filter(ev=>ev.date===selected);eventsContainer.innerHTML='';if(eventsForDay.length){eventsForDay.forEach(ev=>{const div=document.createElement('div');div.className='event-item';div.textContent=ev.title;eventsContainer.appendChild(div)})}else{eventsContainer.innerHTML='<div class="event-item">No hay citas agendadas para este día.</div>'}});calendarGrid.appendChild(dayCell)}
}prevBtn.addEventListener('click',()=>{if(currentMonth===0){currentMonth=11;currentYear--}else{currentMonth--}renderCalendar(currentMonth,currentYear)});nextBtn.addEventListener('click',()=>{if(currentMonth===11){currentMonth=0;currentYear++}else{currentMonth++}renderCalendar(currentMonth,currentYear)});renderCalendar(currentMonth,currentYear);const todayStr=`${currentYear}-${String(currentMonth+1).padStart(2,'0')}-${String(currentDate.getDate()).padStart(2,'0')}`;const todayEvents=sampleEvents.filter(ev=>ev.date===todayStr);if(todayEvents.length){eventsContainer.innerHTML='';todayEvents.forEach(ev=>{const div=document.createElement('div');div.className='event-item';div.textContent=ev.title;eventsContainer.appendChild(div)})}})();